"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[102],{102:(O,l,r)=>{r.r(l),r.d(l,{HomePage:()=>U});var h=r(177),g=r(4341),i=r(3186),t=r(3953),m=r(4412),p=r(6354),d=r(9437),f=r(8810),v=r(1626),u=r(8465);let S=(()=>{var n;class a{constructor(e,s){this.http=e,this.router=s,this.BASE_URL="http://localhost:8080";const o=this.isBrowser()?localStorage.getItem("currentUser"):null;this.currentUserSubject=new m.t(o?JSON.parse(o):null),this.currentUser=this.currentUserSubject.asObservable()}isBrowser(){return typeof window<"u"&&typeof window.localStorage<"u"}get currentUserValue(){return this.currentUserSubject.value}login(e,s){return this.http.post(`${this.BASE_URL}/personne/connexion`,{username:e,password:s}).pipe((0,p.T)(o=>(o&&o.token&&this.isBrowser()&&(localStorage.setItem("currentUser",JSON.stringify(o)),this.currentUserSubject.next(o)),o)),(0,d.W)(this.handleError))}handleError(e){let s="An unknown error occurred!";return s=e.error instanceof ErrorEvent?`Error: ${e.error.message}`:`Error Code: ${e.status}\nMessage: ${e.message}`,(0,f.$)(s)}logout(){this.isBrowser()&&localStorage.removeItem("currentUser"),this.currentUserSubject.next(null),this.router.navigate(["/connexion"])}hasRole(e){return this.currentUserValue&&this.currentUserValue.role&&this.currentUserValue.role===e}}return(n=a).\u0275fac=function(e){return new(e||n)(t.KVO(v.Qq),t.KVO(u.Ix))},n.\u0275prov=t.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),a})(),U=(()=>{var n;class a{ngOnInit(){this.isConnected=!localStorage.getItem("currentUser"),this.login()}constructor(e,s){this.authService=e,this.router=s,this.username="babou@example.com",this.password="1234",this.isConnected=!1,this.message="",this.logo1="assets/images/logoToolbar.png",this.person="assets/images/person.png",this.eyes="assets/images/eye.png"}login(){this.authService.login(this.username,this.password).subscribe(e=>{localStorage.setItem("currentUser",JSON.stringify(e)),this.router.navigate(["/accueil"]),this.username="",this.password=""},e=>{this.message="Invalid username or password",this.username="",this.password=""})}}return(n=a).\u0275fac=function(e){return new(e||n)(t.rXU(S),t.rXU(u.Ix))},n.\u0275cmp=t.VBU({type:n,selectors:[["app-home"]],standalone:!0,features:[t.aNF],decls:7,vars:2,consts:[[1,"header",3,"translucent"],[1,"header-center"],["src","../../assets/logo-pankuru.png","alt","Logo pankuru"],["name","notification-outline"],[3,"fullscreen"]],template:function(e,s){1&e&&(t.j41(0,"ion-header",0)(1,"div",1),t.nrm(2,"img",2),t.j41(3,"ion-title"),t.EFF(4,"HOME"),t.k0s(),t.nrm(5,"ion-icon",3),t.k0s()(),t.nrm(6,"ion-content",4)),2&e&&(t.Y8G("translucent",!0),t.R7$(6),t.Y8G("fullscreen",!0))},dependencies:[i.iq,i.W9,i.eU,i.BC,h.MD,g.YN],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}"]}),a})()}}]);