<div class="content">
  <ion-icon name="arrow-back-circle-outline" style="color: black;" (click)="retour()"></ion-icon>
  <ion-img
    src="../../../assets/Images/EconomyChaise.svg"
    alt="Sieges economique"
  ></ion-img>

  <div class="text-titre">
    Siège en Classe Économique
  </div>

  <div class="legend-container">
    <div class="legend-item selectionner">
      <ion-icon name="ellipse"></ion-icon>
      Sélectionné
    </div>
    <div class="legend-item secour">
      <ion-icon name="ellipse"></ion-icon>
      Sortie de secours
    </div>
    <div class="legend-item libre">
      <ion-icon name="ellipse"></ion-icon>
      Libre
    </div>
    <div class="legend-item occupe">
      <ion-icon name="ellipse"></ion-icon>
      Occupé
    </div>
  </div>

  <div class="seating-container">
    <div class="gauche">
      <div class="haut-gauche">
        <!-- Section HUBLOT -->
        <div class="hub-lot">
          <div *ngFor="let siege of getSiegeHubLot().slice(0,8)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'"
                  (mouseover)="showTooltip(siege)"
                  (mouseout)="hideTooltip()">
                  {{siege.numero}}

                </ion-button>
              </ion-col>
            </ion-row>
          </div>
        </div>

        <!-- Section MILIEU -->
        <div class="milieu">
          <div *ngFor="let siege of getSiegeMilieu().slice(0,8)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'">
                  {{siege.numero}}
                </ion-button>

              </ion-col>
            </ion-row>
          </div>
        </div>

        <!-- Section COULOIR -->
        <div class="couloir">
          <div *ngFor="let siege of getSiegeCouloir().slice(0,8)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'">
                  {{siege.numero}}
                </ion-button>

              </ion-col>
            </ion-row>
          </div>
        </div>
      </div>

      <div class="secour">
      </div>

      <div class="bas-gauche">
      <!-- Section HUBLOT -->
      <div class="hub-lot">
        <div *ngFor="let siege of getSiegeHubLot().slice(9,13)">
          <ion-row>
            <ion-col>
              <ion-button
                [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                (click)="selectSiege(siege)"
                [disabled]="siege.disponibilite !== 'OUI'">
                {{siege.numero}}
              </ion-button>

            </ion-col>
          </ion-row>
        </div>
      </div>

      <!-- Section MILIEU -->
      <div class="milieu">
        <div *ngFor="let siege of getSiegeMilieu().slice(9,13)">
          <ion-row>
            <ion-col>
              <ion-button
                [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                (click)="selectSiege(siege)"
                [disabled]="siege.disponibilite !== 'OUI'">
                {{siege.numero}}
              </ion-button>

            </ion-col>
          </ion-row>
        </div>
      </div>

      <!-- Section COULOIR -->
      <div class="couloir">
        <div *ngFor="let siege of getSiegeCouloir().slice(9,13)">
          <ion-row>
            <ion-col>
              <ion-button
                [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                (click)="selectSiege(siege)"
                [disabled]="siege.disponibilite !== 'OUI'">
                {{siege.numero}}
              </ion-button>

            </ion-col>
          </ion-row>
        </div>
      </div>
    </div>
    </div>

    <div class="droite">
      <div class="haut-droite">
        <!-- Section HUBLOT -->
        <div class="hub-lot">
          <div *ngFor="let siege of getSiegeHubLot().slice(13,21)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'">
                  {{siege.numero}}
                </ion-button>

              </ion-col>
            </ion-row>
          </div>
        </div>

        <!-- Section MILIEU -->
        <div class="milieu">
          <div *ngFor="let siege of getSiegeMilieu().slice(13,21)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'">
                  {{siege.numero}}
                </ion-button>

              </ion-col>
            </ion-row>
          </div>
        </div>

        <!-- Section COULOIR -->
        <div class="couloir">
          <div *ngFor="let siege of getSiegeCouloir().slice(13,21)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'">
                  {{siege.numero}}
                </ion-button>

              </ion-col>
            </ion-row>
          </div>
        </div>
      </div>

      <div class="secour">
      </div>

      <div class="bas-droite">
        <!-- Section HUBLOT -->
        <div class="hub-lot">
          <div *ngFor="let siege of getSiegeHubLot().slice(21,26)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'">
                  {{siege.numero}}
                </ion-button>

              </ion-col>
            </ion-row>
          </div>
        </div>

        <!-- Section MILIEU -->
        <div class="milieu">
          <div *ngFor="let siege of getSiegeMilieu().slice(21,26)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'">
                  {{siege.numero}}
                </ion-button>

              </ion-col>
            </ion-row>
          </div>
        </div>

        <!-- Section COULOIR -->
        <div class="couloir">
          <div *ngFor="let siege of getSiegeCouloir().slice(21,26)">
            <ion-row>
              <ion-col>
                <ion-button
                  [color]="siege.disponibilite === 'OUI' ? (isSelected(siege) ? 'selected-color' : 'success') : 'danger'"
                  (click)="selectSiege(siege)"
                  [disabled]="siege.disponibilite !== 'OUI'">
                  {{siege.numero}}
                </ion-button>

              </ion-col>
            </ion-row>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Affichage du siège sélectionné -->
  <div *ngIf="siegeSelectionne" class="selected-seat">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Siège Sélectionné</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <p>Numéro : {{siegeSelectionne.numero}}</p>
        <p>Position : {{siegeSelectionne.positionSiege.nom}}</p>
        <p>Classe : {{siegeSelectionne.positionSiege.classeSiege.nom}}</p>
      </ion-card-content>
    </ion-card>
  </div>

  <ion-button expand="block" class="demarer">Valider</ion-button>
</div>
